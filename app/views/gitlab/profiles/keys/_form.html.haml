%div
  - path_helper = @key.persisted? ? profile_key_path(@key) : profile_keys_path
  - http_method = @key.persisted? ? :put : :post
  = form_for [:profile, @key], as: :key, url: path_helper, method: http_method, html: { class: 'form-horizontal' } do |f|
    - if @key.errors.any?
      .alert.alert-danger
        %ul
          - @key.errors.full_messages.each do |msg|
            %li= msg

    .form-group
      = f.label :title, class: 'control-label'
      .col-sm-10= f.text_field :title, class: "form-control"
    .form-group
      = f.label :key, class: 'control-label'
      .col-sm-10
        = f.text_area :key, class: "form-control", rows: 8


    .form-actions
      = f.submit 'Add key', class: "btn btn-create"
      = link_to "Cancel", profile_keys_path, class: "btn btn-cancel"

